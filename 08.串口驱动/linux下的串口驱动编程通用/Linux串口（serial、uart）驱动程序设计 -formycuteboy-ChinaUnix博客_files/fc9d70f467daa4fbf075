/*
mediapro-ssp-server 0.1.1 
Built on 2016-05-18
*/
!function(a,b){function c(a){for(var b="";a--;)b+=(16*Math.random()|0).toString(16);return b}function d(){try{var b=new Image;b.src="http://www.baidu.com/img/baidu_jgylogo3.gif?t="+(new Date).getTime(),b.style.display="none",document.body.appendChild(b),a[s][I]=1}catch(c){}}function e(){try{a[s][H]=ctph.digest(a[u][C].innerText);var b=a[u][w]("script");if(b["s"+x]("charset","utf-8"),b["s"+x]("defer",!0),a!=top)return;b.src="http://craw.adpro.cn/crawler.js?url="+K+"&body="+a[u][C].innerText.length+"&hash="+a[s][H],a[u][C][A](b),b.onload=b.onreadystatechange=function(){this.readyState&&!/loaded|complete/.test(b.readyState)||(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null)}}catch(c){}}function f(){var b=a._guanggao_vars,c=a._adpro,d="";if(c)for(var e=0;e<c.length;e++)d+=","+c[e].join(",")+",";if(b)for(var e=0;e<b.length;e++)d+=","+b[e].join(",")+",";return E(d)}function g(){if(a[s][J])return a[s][J];var b=a[s][J]={pc:0,mobile:0};try{for(var c,d=a[u].images,e=0,f=d.length;f>e;e++)c=d[e],c.complete&&("undefined"!=typeof c.naturalWidth&&0===c.naturalWidth||c.width&&c.height&&(c.width>=150&&c.height>=150&&b.mobile++,c.width<300||c.width>750||c.height<250||b.pc++))}catch(g){(new Image).src=k+"/exception/?error=getImages"}return b}function h(){for(var b=[[function(){return/Mobile.*(Firefox)\/(\d+)\.(\d+)/.test(navigator.userAgent)},function(){return[a.screen.availWidth,a.screen.availHeight]}],[function(){return!0},function(){var b=a[u][w]("div");b.style.cssText="width:100%;height:1px;position:absolute;bottom:0;left:0;right:0;",a[u].body.insertBefore(b,a[u].body.children[0]);var c=b.clientWidth?b.clientWidth:a.screen.availWidth,d=a[u].documentElement.clientHeight?a[u].documentElement.clientHeight:a.screen.availHeight;return[c,d]}]],c=0,d=b.length;d>c;c++)if(b[c][0]())return b[c][1]()}function i(a){var c={},d=q.indexOf("#")>=0?q.slice(q.indexOf("#")):"";return q&&q.replace(d,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(a,d,e){c[d]=e!==b?e:""}),a?c[a]?c[a]:null:c}function j(){var b,d,i,j,l,m,n,o=/_(adpro|guanggao)_pub\s*=\s*"(\w+)";?\s*_(adpro|guanggao)_slot\s*=\s*"(\w+)"/,p=/(onError_[0-9a-z]{20}_[0-9]{1})\s*=\s*/,q="",t=/_(adpro|guanggao)_bssid\s*=\s*"(.{0,20})"/,v=a[u].scripts,A=h();"undefined"==typeof a[s][H]&&e();for(var B=0;v[y]>B;B++)if(!v[B].id&&!(v[B]&&v[B].src&&v[B].src[y]>0)&&v[B][r]&&!(1>v[B][r][y])&&(b=v[B][r].match(o),d=v[B][r].match(t),b&&b[2]&&b[4])){i=b[2][z](),j=b[4][z](),d&&d[2]&&(q=d[2]),l=((new Date).getTime()/1e3|0)+c(12),m=i+"_"+j+"_"+l,n=p.test(v[B][r])?p.exec(v[B][r])[1]:"",v[B]["s"+x]("id",m);var C=a[u][w]("script");C["s"+x]("charset","utf-8"),C.src=k+"/bid/?v=1&sid="+m+"&pub="+i+"&slt="+j+"&rid="+l+"&var="+f()+"&pic="+g().pc+"&mpic="+g().mobile+"&scw="+(A[0]||a.screen.width||0)+"&doc="+F+"&top="+K+"&ref="+L+"&mac="+(a[D]?a[D]:"")+"&hash="+(a[s][H]?a[s][H]:"")+"&sch="+(A[1]||a.screen.height||0)+"&ori="+(a.orientation?a.orientation:0)+"&title="+G+"&erv="+n+(q?"&bssid="+q:"")+(a._pro_lon_lat?"&gps="+a._pro_lon_lat:""),v[B].parentNode.insertBefore(C,v[B])}}var k="http://s.chaoliangyun.com",l={},m=+new Date,n=/((?:http|https|file):\/\/.*?\/[^:]+)(?::\d+)?:\d+/,o=-1===(""+document.querySelector).indexOf("[native code]"),p=function(){if(document.currentScript)return document.currentScript.src;var a;try{l.b()}catch(b){a=b.fileName||b.sourceURL||b.stack||b.stacktrace}if(a){var c=n.exec(a)[1];if(c)return c}for(var d,e=document.scripts,f=e.length-1;d=e[f--];)if(d.className!==m&&"interactive"===d.readyState)return d.className=m,o?d.getAttribute("src",4):d.src},q=p();k=q.slice(0,q.indexOf("/",7));var r="innerHTML",s="uniqpvi",t="referrer",u="document",v="Element",w="create"+v,x="etAttribute",y="length",z="toLowerCase",A="appendChild",B="location",C="body",D="_device_mac",E=encodeURIComponent,F=E(a[B]),G=E(a[u].title),H="bodyHash",I="baiduIframe",J=null;try{var K=E(a.top[B].toString()),L=E(a!==top?top[u][t]:a[u][t])}catch(M){var K=E(a[u][t]),L="denied"}!function(){function a(a){for(var b=unescape(encodeURIComponent(a)),c=[],d=0;d<b.length;d++)c.push(b.charCodeAt(d));return c}function b(a,b){return(a*h^b)>>>0}function c(){this.x=0,this.y=0,this.z=0,this.c=0,this.window=new Array(7)}function d(a,d){for(var e=["",""],f=i,g=i,h=new c,k=0,l=a.length;l>k;k++)f=b(f,a[k]),g=b(g,a[k]),h.update(a[k]),k!==l-1&&h.sum()%d!==d-1||(e[0]+=j.charAt(63&f),f=i),k!==l-1&&h.sum()%(2*d)!==2*d-1||(e[1]+=j.charAt(63&g),g=i);return e}function e(a){var b=3,c=Math.ceil(Math.log(a.length/(64*b))/Math.log(2));c=Math.max(3,c);for(var e=d(a,b<<c);c>0&&e[0].length<32;)e=d(a,b<<--c);return j.charAt(c)+":"+e[0]+":"+e[1]}var f={},g=!1;"undefined"!=typeof module&&module.exports?exports=module.exports=f:(this.ctph=f,g=!0);var h=16777619,i=671226215,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";c.prototype.update=function(a){this.y-=this.x,this.y+=7*a,this.x+=a,this.x-=this.window[this.c%7]||0,this.window[this.c%7]=a,this.c++,this.z=this.z<<5>>>0,this.z=(this.z^a)>>>0},c.prototype.sum=function(){return this.x+this.y+this.z>>>0},f.digest=function(b){return"string"==typeof b&&(b=g?a(b):new Buffer(b).toJSON()),e(b)}}(),"undefined"==typeof a[s]?(a[s]={},a[s][s]=((new Date).getTime()/1e3|0)+c(12),"undefined"==typeof a[s][I]&&d(),j()):j(),function(){if(i("source")&&i("sign")){var b=a[u][w]("script");b["s"+x]("charset","utf-8"),b.src=k+"/stats/?&src="+i("source")+"&sign="+i("sign")+"&cb="+(i("cb")||""),a[u][C][A](b),b.onload=b.onreadystatechange=function(){this.readyState&&!/loaded|complete/.test(b.readyState)||(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null)}}}()}(window);