KISSY.add("item-recommend/__0",["node"],function(e,t,a,n){var i,r,s;return r=t("node"),i=r.all,new(s=function(){function e(){}return e.prototype.product1212=function(e){return e.purchase_power="",e.config.has_buyed_people_num&&"0"!==e.config.has_buyed_people_num&&(e.purchase_power='<div class="angle">\u5df2\u552e<strong>'+e.config.has_buyed_people_num+"</strong>\u4ef6</div>"),e.red_packet_ammount="",e.config.red_packet_ammount&&(e.red_packet_ammount="<span>\u518d\u51cf"+e.config.red_packet_ammount+"\u5143</span>"),e.config&&e.config.twelve_hide_money&&(e.special=e.config.twelve_hide_money),'<div class="wrap rain-s-12"><a href="'+e.link+'" target="_blank">\n        <div class="pic"><img src="'+e.img+'" alt=""></div></a>\n      <div class="smy">\n        '+e.purchase_power+'\n        <div class="title"><a href="'+e.link+'" target="_blank" title="'+e.title+'">'+e.title+"</a></div>\n        <dl>\n          <dt>\uffe5<span>"+e.special+"</span><em>\uffe5"+e.price+'</em></dt>\n            </dl><a href="'+e.link+'" target="_blank" class="addcart">\u7acb\u5373\u67e5\u770b</a>\n      </div>\n    </div>'},e.prototype.productNormal=function(e){return'<div class="wrap rain-s-normal"><a href="'+e.link+'" target="_blank">\n    <div class="pic"><img src="'+e.img+'" alt=""></div></a>\n  <div class="smy">\n    <div class="title"><a href="'+e.link+'" target="_blank" title="'+e.title+'">'+e.title+'</a></div>\n    <div class="discount">\uffe5<span>'+e.special+"</span></div>\n  </div>\n</div>"},e.prototype.productPre=function(e){return e.pre_order_people_num="",e.config.pre_order_people_num&&"0"!==e.config.pre_order_people_num&&(e.pre_order_people_num='<div class="angle">\u6709<strong>'+e.config.pre_order_people_num+"</strong>\u4eba\u5df2\u9884\u5b9a</div>"),'<div class="wrap rain-s-pre"><a href="'+e.link+'" target="_blank">\n      <div class="pic"><img src="'+e.img+'" alt=""></div></a>\n    <div class="smy">\n      '+e.pre_order_people_num+'\n      <a href="'+e.link+'" target="_blank" title="'+e.title+'">\n      <div class="title">'+e.title+'</div></a>\n      <dl class="rain-left">\n        <dt>\uffe5<span>'+e.config.pre_price+"</span><em>\uffe5"+e.price+'</em></dt>\n        <dd class="discount">&nbsp;</dd>\n      </dl>\n      <ol class="rain-left">\n        <li class="prepaid">&nbsp;\u9884\u4ed8:\uffe5<span>'+e.config.order_money+'</span></li>\n        <li class="addcart"><a href="'+e.link+'" target="_blank"><span class="rain-font">&#xe700;</span>\u7acb\u5373\u8d2d\u4e70</a></li>\n      </ol>\n    </div>\n  </div>'},e.prototype.go=function(e,t){var a,n=this;i(".container",e).css("left",t),a=i(".nav li",e),a.removeClass("active"),i(a[n.currentStep]).addClass("active")},e.prototype.events=function(e){var t,a=this,n=6==a.perPageItemCount?1128:940;i(".prev",e).on("click",function(){0==a.currentStep?a.currentStep=a.total-1:a.currentStep=a.currentStep-1,t=-a.currentStep*n,a.go(e,t)}),i(".next",e).on("click",function(){a.currentStep==a.total-1?a.currentStep=0:a.currentStep=a.currentStep+1,t=-a.currentStep*n,a.go(e,t)}),i(".nav li",e).on("click",function(t){var r=parseInt(i(t.currentTarget).attr("data-type"));a.currentStep=r;var s=-r*n;a.go(e,s)})},e.prototype.init=function(e,t){var a=this;a.perPageItemCount=6,i("#detail").width()<1140?a.perPageItemCount=5:a.perPageItemCount=6,a.render(e,t),i(window).on("resize",function(){i("#detail").width()<1140&&6==a.perPageItemCount?(a.perPageItemCount=5,i(t).empty(),a.render(e,t)):i("#detail").width()>=1140&&5==a.perPageItemCount&&(a.perPageItemCount=6,i(t).empty(),a.render(e,t))})},e.prototype.render=function(e,t){var a,n,r,s,d,l,c,o,p,_,u,m=this,v=6==m.perPageItemCount?1110:940;for(l=e.data,this.dom=t,n=i('<div data-spm="1998262448" style="width:4500px" class="container"></div>'),a=i('<div id="J_tad1212_inner" style="width: '+v+'px;margin-left: 14px;" class="rain-photo g-1-6"></div>'),c=0,p=0,d=_=0,u=l.length;u>=0?u>_:_>u;d=u>=0?++_:--_)o=l[d],d>17||(o.config.twelve_item_type?("2"===o.config.twelve_item_type&&(p++,r=this.product1212(o),n.append(r)),"1"===o.config.twelve_item_type&&(p++,r=this.productPre(o),n.append(r))):(c++,r=this.productNormal(o),n.append(r)));return l.length>17&&(p="18+"),a.append('<div class="tip">\u8be5\u5e97\u5bb6\u6709<strong>'+p+"</strong>\u4ef6\u5546\u54c1\u53c2\u52a0\u814a\u516b\u5e74\u8d27\u8282\uff0c\u5168\u6c11\u56e2\u5706\uff0c\u611f\u8c22\u6709\u4f60\u3002\u7acb\u5373\u62a2\u8d2d\uff01</div>"),a.append(n),c>0&&l.length<7&&(s='<div class="line" style="left:'+(188*(l.length-c)-10)+'px"></div>\n<div style="width:'+(188*c-18)+"px;left:"+188*(l.length-c)+'px;" class="rain-banner">\u67e5\u770b\u8be6\u60c5\uff0c\u9a6c\u4e0a\u52a0\u5165\u8d2d\u7269\u8f66</div>',a.append(s)),p>m.perPageItemCount&&m.scrollPage(a,l.length,m.perPageItemCount),this.dom.append(a)},e.prototype.scrollPage=function(e,t,a){var n=this,i=Math.ceil(t/a);this.total=i,n.currentStep=0;for(var r="",s=0;i>s;s++)r+=0!=s?'<li data-type="'+s+'"></li>':'<li data-type="'+s+'" class="active"></li>';var d='<ul class="rain-left nav">\n    '+r+'\n</ul>\n<div class="prev"></div>\n<div class="next"></div>';e.append(d),n.events(e)},e}())}),KISSY.add("item-recommend/_0",["item-recommend/c/1212/index.css","node","base","json","item-recommend/__0","xtemplate"],function(e,t,a,n){t("item-recommend/c/1212/index.css");var i=t("node").all,r=t("base"),s=t("json"),d=t("item-recommend/__0"),l=(t("xtemplate"),!!~location.href.indexOf("daily")),c=l?"//tte.daily.taobao.net/activity/xin12?src=3":"//xin.mai.taobao.com/activity/xin12?src=3";n.exports=r.extend({init:function(){var e=this;e.render()},render:function(){var e=this,t=e.get("data"),a=e.get("successFn"),n=e.get("errorFn"),r=e.get("container");if("undefined"==typeof t.tad_12)n&&n();else if(t.tad_12.length>0){areaData=t.tad_12[0];var l=areaData.content;if(!areaData.success||!l)return void(n&&n());l="string"==typeof l?s.parse(l):l,void 0==l.xin1212?(itemList=l,d.init(itemList,i(r))):l.xin1212?i(r).html('<div class="tad12_guide_area" data-spm="1998223148"><div class="tad12_guide_info"></div><div class="tad12_guide_ope"><a href="'+c+'" target="_blank" class="tad12_now_setbtn">\u7acb\u5373\u8bbe\u7f6e</a><a href="//bbs.taobao.com/catalog/thread/17180510-277372963.htm?scm=1212.30.2.1" target="_blank" class="tad12_help_link">\u5e2e\u52a9</a></div></div>'):i(r).html('<p class="tad12_guide_success_tip">\u5927\u4fc3\u671f\u95f4(\u9884\u552e\u3001\u9884\u70ed\u53ca12.12\u5f53\u5929)\uff0c\u5982\u60a8\u6709\u5546\u54c1\u62a5\u540d\u5ba1\u6838\u6210\u529f\uff0c\u5219\u663e\u793a1212\u4e07\u80fd\u76db\u5178\uff0c\u6837\u5f0f\u5982\u4e0b:</p><div class="tad12_guide_success"><img src="//img.alicdn.com/tps/i2/TB1WN6wGFXXXXaiXXXXk00J9FXX-1124-309.png" class="tad_guide_success_sample" alt=""/></div>'),a&&a()}else 0==t.tad_12.length&&(void 0!=t.xin1212?(t.xin1212?i(r).html('<div class="tad12_guide_area" data-spm="1998223148"><div class="tad12_guide_info"></div><div class="tad12_guide_ope"><a href="'+c+'" target="_blank" class="tad12_now_setbtn">\u7acb\u5373\u8bbe\u7f6e</a><a href="//bbs.taobao.com/catalog/thread/17180510-277372963.htm?scm=1212.30.2.1" target="_blank" class="tad12_help_link">\u5e2e\u52a9</a></div></div>'):i(r).html('<p class="tad12_guide_success_tip">\u5927\u4fc3\u671f\u95f4(\u9884\u552e\u3001\u9884\u70ed\u53ca12.12\u5f53\u5929)\uff0c\u5982\u60a8\u6709\u5546\u54c1\u62a5\u540d\u5ba1\u6838\u6210\u529f\uff0c\u5219\u663e\u793a1212\u4e07\u80fd\u76db\u5178\uff0c\u6837\u5f0f\u5982\u4e0b:</p><div class="tad12_guide_success"><img src="//img.alicdn.com/tps/i2/TB1WN6wGFXXXXaiXXXXk00J9FXX-1124-309.png" class="tad_guide_success_sample" alt=""/></div>'),a&&a()):n&&n())},resize:function(){i("#tad_first_area").parent().width()>990?i("#J_TadHeartElection").length&&i("#J_TadHeartElection").removeClass("tad_small_width"):i("#J_TadHeartElection").length&&i("#J_TadHeartElection").addClass("tad_small_width")}},{ATTRS:{data:{value:""},container:{value:""},successFn:{valueFn:function(){}},errorFn:{valueFn:function(){}}}})});